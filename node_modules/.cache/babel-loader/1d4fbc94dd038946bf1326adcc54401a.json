{"ast":null,"code":"// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\nimport Rails from \"@rails/ujs\";\nimport Turbolinks from \"turbolinks\";\nimport * as ActiveStorage from \"@rails/activestorage\";\nimport \"channels\";\nRails.start();\nTurbolinks.start();\nActiveStorage.start(); // 無限スクロール\n\ndocument.querySelectorAll('.scroll').forEach(function (elm) {\n  elm.onscroll = function () {\n    if (this.scrollTop + this.clientHeight >= this.scrollHeight) {\n      //スクロールが末尾に達した\n      if (parseInt(this.dataset.lastnum) < parseInt(this.dataset.max)) {\n        //未ロードの画像がある場合\n        this.dataset.lastnum = parseInt(this.dataset.lastnum) + 1;\n        var img = document.createElement('img');\n        img.src = this.dataset.lastnum + '.jpg';\n        this.appendChild(img);\n      }\n    }\n  };\n});","map":{"version":3,"sources":["/myapp/app/javascript/packs/application.js"],"names":["Rails","Turbolinks","ActiveStorage","start","document","querySelectorAll","forEach","elm","onscroll","scrollTop","clientHeight","scrollHeight","parseInt","dataset","lastnum","max","img","createElement","src","appendChild"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,YAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,KAAKC,aAAZ,MAA+B,sBAA/B;AACA,OAAO,UAAP;AAEAF,KAAK,CAACG,KAAN;AACAF,UAAU,CAACE,KAAX;AACAD,aAAa,CAACC,KAAd,G,CAEA;;AACAC,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCC,OAArC,CAA6C,UAAAC,GAAG,EAAI;AACnDA,EAAAA,GAAG,CAACC,QAAJ,GAAe,YAAY;AAC1B,QAAI,KAAKC,SAAL,GAAiB,KAAKC,YAAtB,IAAsC,KAAKC,YAA/C,EAA6D;AAC5D;AACA,UAAIC,QAAQ,CAAC,KAAKC,OAAL,CAAaC,OAAd,CAAR,GAAiCF,QAAQ,CAAC,KAAKC,OAAL,CAAaE,GAAd,CAA7C,EAAiE;AAChE;AACA,aAAKF,OAAL,CAAaC,OAAb,GAAuBF,QAAQ,CAAC,KAAKC,OAAL,CAAaC,OAAd,CAAR,GAAiC,CAAxD;AACA,YAAIE,GAAG,GAAGZ,QAAQ,CAACa,aAAT,CAAuB,KAAvB,CAAV;AACAD,QAAAA,GAAG,CAACE,GAAJ,GAAW,KAAKL,OAAL,CAAaC,OAAb,GAAsB,MAAjC;AACA,aAAKK,WAAL,CAAiBH,GAAjB;AACA;AACD;AACD,GAXD;AAYA,CAbD","sourcesContent":["// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n\nimport Rails from \"@rails/ujs\"\nimport Turbolinks from \"turbolinks\"\nimport * as ActiveStorage from \"@rails/activestorage\"\nimport \"channels\"\n\nRails.start()\nTurbolinks.start()\nActiveStorage.start()\n\n// 無限スクロール\ndocument.querySelectorAll('.scroll').forEach(elm => {\n\telm.onscroll = function () {\n\t\tif (this.scrollTop + this.clientHeight >= this.scrollHeight) {\n\t\t\t//スクロールが末尾に達した\n\t\t\tif (parseInt(this.dataset.lastnum) < parseInt(this.dataset.max)) {\n\t\t\t\t//未ロードの画像がある場合\n\t\t\t\tthis.dataset.lastnum = parseInt(this.dataset.lastnum) + 1;\n\t\t\t\tlet img = document.createElement('img');\n\t\t\t\timg.src =  this.dataset.lastnum +'.jpg';\n\t\t\t\tthis.appendChild(img);\n\t\t\t}\n\t\t}\n\t};\n});"]},"metadata":{},"sourceType":"module"}